name: Deploy Hugging Face Space

# O workflow ser√° acionado sempre que houver um push para a branch 'main'
on:
  push:
    branches:
      - main  # Altere para a branch principal do seu reposit√≥rio, se for diferente (ex: master)

# Define um conjunto de permiss√µes (necess√°rio para o checkout)
permissions:
  contents: write

jobs:
  sync-space:
    # O runner √© o ambiente onde o c√≥digo ser√° executado
    runs-on: ubuntu-latest
    
    steps:
      # Passo 1: Clona o seu reposit√≥rio GitHub (onde est√° este workflow)
      - name: Checkout Repository
        uses: actions/checkout@v4
        
      # Passo 2: Sincroniza o conte√∫do do seu reposit√≥rio com o Space do Hugging Face
      - name: Sync to Hugging Face Space
        uses: nateraw/huggingface-sync-action@main
        with:
          # --- OBRIGAT√ìRIO ---
          # O ID do seu Space no formato 'nome-usuario/nome-do-space'
          # Exemplo: 'meu-usuario/meu-chatbot-gradio'
          huggingface_repo_id: willp01/projeto001 
          
          # --- OBRIGAT√ìRIO ---
          # O Token de Acesso do Hugging Face. Deve ser uma Secret do GitHub.
          # Voc√™ deve criar uma Secret no seu reposit√≥rio chamada HF_TOKEN.
          hf_token: ${{ secrets.HF }} 
          private: False

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x' # Defina a vers√£o que voc√™ usa

# --- ADICIONE ESTES PASSOS ---

      - name: üì¶ Instalar Depend√™ncias
        run: |
          python -m pip install --upgrade pip
          # Assumindo que voc√™ tem um arquivo requirements.txt
          pip install -r requirements.txt

      - name: üöÄ Executar Script e Fazer Upload
        run: |
          # Este √© o comando que executa o seu c√≥digo principal
          app.py # Substitua pelo nome real do seu script
